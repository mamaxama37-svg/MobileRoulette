<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Roulette Neighbor Intelligence</title>

<style>
body { background:#000; color:#fff; font-family:Arial; margin:0; text-align:center; }
header { background:#111; padding:12px; font-size:1.3em; }
.box { background:#1a1a1a; margin:10px; padding:10px; border-radius:6px; }
textarea { width:95%; height:90px; background:#000; color:#0f0; }
button { padding:10px; font-size:1em; margin-top:10px; }
.good { color:#0f0; }
.warn { color:#ff0; }
.bad { color:#f00; }
</style>
</head>

<body>

<header>Advanced Roulette Neighbor Intelligence</header>

<div class="box">
<b>Last 100 Numbers (paste here)</b><br>
<textarea id="history"></textarea>
</div>

<button id="analyzeBtn">Analyze Next Spin</button>

<div class="box" id="output">Waiting for input…</div>

<script>
const wheel = [
0,32,15,19,4,21,2,25,17,34,6,27,13,36,11,
30,8,23,10,5,24,16,33,1,20,14,31,9,
22,18,29,7,28,12,35,3,26
];

function parseNumbers(text){
  return text
    .split(/[\s,]+/)
    .map(n => Number(n))
    .filter(n => n >= 0 && n <= 36);
}

function analyze(){
  const historyEl = document.getElementById("history");
  const outputEl = document.getElementById("output");

  const nums = parseNumbers(historyEl.value).slice(-100);

  if(nums.length < 60){
    outputEl.innerHTML = "<span class='bad'>Need at least 60 numbers</span>";
    return;
  }

  const score = Array(37).fill(0);

  nums.forEach((n,i)=>{
    const weight = Math.pow((i+1)/nums.length, 1.4);
    const idx = wheel.indexOf(n);
    for(let d=-2; d<=2; d++){
      score[(idx+d+37)%37] += weight;
    }
  });

  // Anti-repeat
  const last = nums[nums.length-1];
  score[wheel.indexOf(last)] *= 0.2;

  const bestIndex = score.indexOf(Math.max(...score));
  const target = wheel[bestIndex];

  // ±3 neighbors
  const zone=[];
  for(let i=-3;i<=3;i++){
    zone.push(wheel[(bestIndex+i+37)%37]);
  }

  // Confidence logic
  const recent = nums.slice(-14);
  const hits = recent.filter(n => zone.includes(n)).length;
  let signal = "SKIP";
  let cls = "bad";

  if(hits >= 4){ signal="PLAY"; cls="good"; }
  else if(hits >= 2){ signal="WAIT"; cls="warn"; }

  outputEl.innerHTML = `
    <b>Primary Target:</b> <span class="good">${target}</span><br><br>
    <b>Bet Zone (±3 neighbors):</b><br>${zone.join(", ")}<br><br>
    <b>Hits in last 14:</b> ${hits}<br>
    <b>Signal:</b> <span class="${cls}">${signal}</span>
  `;
}

document.getElementById("analyzeBtn").addEventListener("click", analyze);
</script>

</body>
</html>
